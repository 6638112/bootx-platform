 # CHANGELOG
## [v1.1.0] 一号线-工研院.正式版
- 增加微信自定义菜单管理
- 增加微信素材媒体管理功能
- 增加微信消息模板管理
- 增加微信消息发送
- 增加微信公众号绑定和登录, 与微信开放平台登录做区分
- 增加邮件发送演示DEMO
- 增加动态设计表单功能
- 增加动态表单数据收集展示功能
- 增加多数据源功能
- 优化: 登录认证请求接口和登录器优化
- 优化: 代码生成器升级，增加更多可配置项
- 优化: swagger模块支持一个模块扫描多个包
- 优化: 富文本编辑器输出样式优化
- fix: 顶栏多页签栏遮挡菜单问题
## [v1.1.0-bate-6] 一号线-工研院.测试版6
- 新增钉钉工作通知、普通消息通知
- 新增钉钉机器人管理和消息发送
- 新增钉钉文件上传接口
- 新增企业微信消息通知
- 新增企业微信机器人管理
- 新增企业微信机器人上传媒体文件接口
- 将各类第三方平台（钉钉、企微、微信）对接进行结构优化
- 优化mybatis-plus中获取一条的操作方法
- 优化vxe组件的z-index层级
- 优化多页签为固定顶部
## [v1.1.0-bate-5] 一号线-工研院.测试版5
- 微信支付，支持扫码支付、付款码支付、公众号支付、小程序支付、APP支付
- 支付宝支付，支持扫码支付、PC网站支付、H5网站支付、付款码支付
- 钱包支付，支持钱包支付
- 储值卡支付，支持多卡组合支付和单卡多次支付
- 现金支付，支持现金支付
- 聚合支付，支持微信和支付宝二维码扫码或付款码支付
- 组合支付，支持一种异步支付方式和多种同步支付方式进行合并支付
- 增加退款功能，支持多次部分退款和全额退款
- 增加支付信息同步功能，支持手动和自动与支付网关同步支付状态
- 增加支付定时关闭功能，使用定时时间轮+消息通知实现
- 增加结算收银台演示，演示微信和支付各种方式的支付，以及扫码和付款码的聚合支付演示
- 增加简单支付收银台演示，演示单渠道支付
- 增加组合支付演示，演示多种支付方式组合进行支付
- 增加`JacksonListTypeHandler` `MyBatis-Plus`的类型处理器
- 优化系统中注入的`Jackson`的`ObjectMapper`注入，增加携带类型信息`ObjectMapper`注入
- 优化`JacksonUtil`方法设置`ObjectMapper`限制，增加支持序列化带类型信息的Json方法
- fix: 前端业务页面F5刷新后，字典项有几率获取不到

## [v1.1.0-bate-4-fix] 一号线-工研院.测试版4-优化版
- 重构认证应用和认证终端重新设计为认证终端和登录方式
- 增加用户手机号/邮箱绑定功能
- 优化微信、钉钉、企业微信绑定时重复校验
- 优化`@IgnoreAuth`鉴权注解功能
- fix: 开放平台登录报错问题
## [v1.1.0-bate-4] 一号线-工研院.测试版4
- 增加忘记密码功能
- 增加账号注册功能
- 增加微信扫码登录和绑定
- 增加企业扫码微信登录和绑定
- 增加钉钉扫码登录和绑定
- 优化终端拆分为认证应用和认证终端
- 优化登录界面和逻辑
- 优化密码设置时提示安全等级
- 优化文件上传管理功能
- fix: 部分字段在MySQL高版本编程关键字
- fix: 支付宝WAP支付无法发起错误
- fix: 队列生成器跨区间生成检查问题修复
## [v1.1.0-bate-3] 一号线-工研院.测试版3
- 增加系统信息监控
- 增加Redis信息监控
- 增加前端顶栏全屏按钮、菜单搜索、消息通知功能
- 增加修改用户邮箱功能
- 增加修改用户手机号功能
- 增加消息模板渲染测试
- 增加定时任务 EasyCron 组件，便于操作
- 增加富文本编辑
- 优化菜单操作增加复制项
- 优化短信登录登录逻辑
- 优化axios网络连接失败时的提示
- fix: 修改前端校验工具类中的一些校验错误
## [v1.1.0-bate-2] 一号线-工研院.测试版2
- 增加用户全局消息Websocket推送，通过前端消息总线可以方便把消息推送到各个页面
- 增加flyway来对数据库进行管理
- 增加plumelog(lite)方式收集日志，方便对日志进行简单的管理
- 增加ELK相关配置，优化日志输出格式
- 增加不同的终端可以有不同的菜单权限列表
- 增加RabbitMQ消息队列模块
- 增加Redis简单消息队列方式,实现简单消息队列功能
- 增加Redis过期事件封装，实现定时消息通知功能
- 增加Redis简单消息队列和过期事件封装演示
- 增加Websocket模块及演示DEMO
- 增加分布式锁组件
- 增加分布式锁演示模块
- 网上商城配套开发
  - 类目管理及相关规格、品牌、参数管理
- 升级Spring Boot为2.7.x版本
- 优化Redis支持集群配置
- 优化logback相关xml，拆分更细粒度
- 优化定时任务增加状态同步按钮，处理定时任务job运行状态不一致情况
- 优化数据权限异常类型
- 优化一些抛出异常的处理
- 优化项目pom结构
- 优化前端路由跳过登录鉴权配置
- 优化请求权限校验流程
- 优化MQTT .lock文件夹问题
- 优化前端支持内部打开外部页面
- fix: 权限不拦截问题
- fix: 开启验证码后, 在登录页面提示请求报错
- fix: 在MacOS环境下运行日志存储报错问题
- fix: mqtt ClientId配置问题导致启动时连接失败的问题
- fix: RestExceptionHandler处理Throwable异常
## [v1.1.0-bate-1] 一号线-工研院.测试版1
- 增加kay/value存储类
- 增加定时任务执行日志记录
- 增加MQTT模块
- 增加幂等演示demo
- 增加数据加密解密演示demo
- 增加数据脱敏演示demo
- 优化终端管理功能
- 优化内置数据防止误删除
- 优化文件服务地址支持通过系统参数配置
- fix: swagger关闭选项不生效
- fix: mp升级导致返回值错误问题
- fix: mp重复引入版本
## [v1.1.0-alpha-6] 一号线-工研院.预览版6
- 增加退款功能, 支持全部退款和部分退款
- 增加代金券(储值卡)管理和支付
- 增加复杂(组合支付)和简单结算台演示
- 增加支付通知回调信息的处理
- 增加聚合支付，支持扫码支付和付款码支付
- 增加钱包管理功能
- 优化钱包支付流程
- 优化支付宝支付链条和bug
- 优化现金支付流程
- 优化超级查询器功能
- 优化请求权限资源同步逻辑
- 优化操作日志在异步方法情况下空指针的问题
- fix: 系统参数修改不生效
- fix: 请求头获取工具类获取信息错误, 增加一些Servlet的数据

## [v1.1.0-alpha-5] 一号线-工研院.预览版5
- 升级基础依赖
- 增加数据版本日志
- 增加文件上传功能
- 新增序列生成器MongoDB实现，优化配置方式，支持精细化配置
- 增加代码生成器
- 增加数据权限和超级查询器演示Demo
- 优化: 前端过时用法
- 优化: 超级查询器增加新配置项目
- 优化: 支持头像上传功能
- 优化: 前端修改密码时的提示
- 优化: 字典翻译工具类增加异步方法，解决获取不到字典项的问题
- 优化: 日志文件同时输出log格式文件，保留日期更改为30天
- fix 字典项分页查询报错

## [v1.1.0-alpha-4] 一号线-工研院.预览版4
- 升级Spring boot 2.6.2、Mybatis Plus 3.5.0
- 新增序列生成器数据库方式实现
- 新增访问请求资源的权限管理
- 增加数据权限控制，支持多种数据数据范围的配置
- 增加用户个人设置功能
- 增加：mp插件机制进行调整, 支持排序
- 优化: 幂等处理细节实现和配置
- 优化: Spring增强模块Cors功能支持通过yaml配置
- 优化: 执行BaseManager#updateById失败时报错
- 优化: 操作日志注解支持重复标注
- 优化: 脱敏类型新增IP地址和用户ID
- 优化: 菜单管理支持搜索
- 优化: 菜单管理中资源权限操作优化
- 优化: 角色管理给分配菜单权限支持搜索
- 优化: 部门机构支持搜索
- 优化: 部门删除时发送事件，用到部门的地方进行了处理
- fix 路径误拦截问题
- fix 云效构建后登录报序列化错误

## [v1.1.0-alpha-3] 一号线-工研院.预览版3
- 升级Spring boot 2.6.x
- 升级swagger3,使用springdoc实现
- 新增敏感信息脱敏功能
- 新增超级查询器(支持多级嵌套查询)
- 新增数据库字段加密功能
- 新增审计日志MongoDB存储实现
- 新增多标签支持
- 新增quartz方式的定时任务
- 新增系统参数配置功能
- 新增MyBatisPlus 通用 BaseManager 增加 根据指定字段查询是否存在数据(不包含自身)
- 重构: Sa-Token Redis持久化插件进行内联
- 重构: 审计日志拆出
- fix: quartz在Spring boot 2.5.7+ 启动报错问题 
- fix: jackson自定义序列化类调用错误构造方法,导致多个自定义序列化类只生效一个
- fix: 退出后重新登录白屏问题
## [v1.1.0-alpha-2] 一号线-工研院.预览版2
- 增加发号器功能
- 增加消息模板功能
- 增加审计日志功能(登录日志/操作日志)
- 增加在线用户查看功能
- 增加异常时返回链路追踪id功能
- 字典项支持排序
- 支持通过终端管理配置登录
## [v1.1.0-alpha-1] 一号线-工研院.预览版1
- 初始化提交